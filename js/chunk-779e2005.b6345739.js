(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-779e2005"],{"341f":function(t,e,n){"use strict";var o=n("5751"),i=n.n(o);i.a},5751:function(t,e,n){},8994:function(t,e){t.exports="\x3c!-- DO NOT MODIFY! THIS CONTENT WAS DYNAMICALLY GENERATED AND ANY CHANGES WILL BE OVERWRITTEN. See ../static/*.md --\x3e\n<dl>\n<dt>Upload your data</dt>\n<dd>Drag and drop your files into the 'Input datasets' box on the right. Alternatively, click the upload button <i class=\"icon-file-upload\"></i> and select your datasets to upload.\n<strong>Permitted dataset formats are Genbank or EMBL.</strong></dd>\n<dt>Select your data by clicking them</dt>\n<dd>Hold Ctrl (⌘ for mac) to select multiple. Hold Shift to select a range. Ctrl-a (⌘-a for mac) to select all.</dd>\n<dt>Upload a phylogenetic tree in newick format (Optional)</dt>\n<dd>The tree will decide the order of alignment in the visualization. The file must have a '.newick' extension and refer to the genomes by accession. If no tree is provided, one will be automatically computed.</dd>\n<dt>Select a reference genome (Optional)</dt>\n<dd>If you are analysing draft genomes, select a reference genome that is closest to your datasets species. The drafts will be stitched in the order of alignment to the reference. If no reference is selected the draft contigs will be stitched in the order they appear in the uploaded dataset. The dataset label will be used for the stitched sequence identifier. If you specify a newick file, it must include this identifier.</dd>\n<dt>Specify a label to identify the analysis, and click submit</dt>\n<dd>The pending job will appear in the Recent Jobs tab. Once complete a &quot;Visualize&quot; button will appear in the Job History page along with the option to download the analysis.</dd>\n</dl>\n<p><strong>Be sure to bookmark this page to return to your work. The above URL is unique to you, and will be retained for three months following your last activity.</strong></p>\n"},b112:function(t,e,n){"use strict";var o=n("ea0f"),i=n.n(o);i.a},b895:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"Analysis",attrs:{fluid:""}},[n("b-row",{attrs:{"align-h":"between"}},[n("b-col",{attrs:{xl:"6"}},[n("b-tabs",{staticClass:"analysis-tabs",scopedSlots:t._u([{key:"tabs-end",fn:function(){return[n("li",{staticClass:"nav-item align-self-center progress-tab"},[n("Quota",{attrs:{usage:t.user&&t.user.total_disk_usage||0,quota:t.user&&t.user.quota||0}},[t._v(" Quota used: ")])],1)]},proxy:!0}]),model:{value:t.current_tab,callback:function(e){t.current_tab=e},expression:"current_tab"}},[n("b-tab",{attrs:{title:"Recent Jobs"}},[n("Jobs",{ref:"jobs",attrs:{invocations:t.invocations},nativeOn:{click:function(e){return e.preventDefault(),t.$router.push("/history")}}})],1),n("b-tab",{staticClass:"help",attrs:{title:"Instructions"}},[n("p",[n("a",{staticClass:"tutorial-start button-icon inline",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.start_tour("tour")}}},[n("i",{staticClass:"icon icon-tutorial"}),t._v(" Tutorial")]),t._v(" Please see "),n("b-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" and "),n("b-link",{attrs:{to:"/faq"}},[t._v("FAQ")]),t._v(" for more information. ")],1),n("p",[t._v(" Check out these "),n("b-link",{attrs:{to:"visualize?src="+t.origin+"/demo/listeria_sample_analysis.gff3"}},[t._v("example Listeria")]),t._v(" or "),n("b-link",{attrs:{to:"visualize?src="+t.origin+"/demo/pseudomonas_sample_analysis.gff3"}},[t._v("example Pseudomonas")]),t._v(" analyses. ")],1),n("HTMLFragment",{attrs:{content:t.instructions}}),n("div",{staticClass:"show-api-key"},[n("a",{staticClass:"button-icon inline",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.show_api_key(e)}}},[n("i",{staticClass:"icon icon-api"}),t._v(" Show API Key")]),n("i",{staticClass:"icon icon-info",attrs:{title:"The API key is used for the command line interface and other utilities that access the backend directly."}})])],1),n("b-tab",{staticClass:"projects",attrs:{title:"Projects"}},[n("p",[t._v("Select multiple projects by Ctrl-clicking their tabs. Drag datasets between to add to the project.")]),t.histories?n("Histories",{attrs:{models:t.histories},on:{"galaxy-history-create":function(e){return e.then(t.makeUploadHistory)}},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.models,(function(e){return n("History",{key:e.id,attrs:{model:e},scopedSlots:t._u([{key:"default",fn:function(t){return[n("HistoryContents",{attrs:{history:t.model}})]}}],null,!0)})}))}}],null,!1,976229781)}):n("div",{staticClass:"text-center loading-spinner"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Loading...")])],1)],1)],1)],1),n("b-col",{attrs:{xl:"6"}},[n("JobRunner",{attrs:{histories:t.histories,workflow:t.workflow,selection_validator:function(t){return t.length<2?"You must select more than one dataset for comparison":null}},on:{"galaxy-workflow-invocation":t.invoked}})],1)],1)],1)},i=[],r=(n("7db0"),n("1112")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"JobRunner"},[n("b-row",[n("b-input-group",{attrs:{prepend:"Project"}},[n("b-form-select",{attrs:{options:t.projects,disabled:null===this.histories,"disabled-field":"Loading.."},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1)],1),n("b-row",[n("b-input-group",{attrs:{prepend:"Analysis Label"}},[n("b-form-input",{ref:"invocation_name",staticClass:"invocation-name",attrs:{placeholder:"Label this job to identify it from others",required:""},model:{value:t.invocation_name,callback:function(e){t.invocation_name=e},expression:"invocation_name"}}),n("b-input-group-append",[n("b-button",{staticClass:"invocation-submit",attrs:{text:"Submit",variant:"success"},on:{click:t.submit}},[t._v("Submit")])],1)],1)],1),n("WorkflowParameters",{ref:"workflow_parameters",attrs:{history:t.history,workflow:t.workflow},on:{input:t.onInput}})],1)},s=[],l=(n("d81d"),n("b0c0"),n("936c")),c={name:"JobRunner",components:{WorkflowParameters:function(){return l["f"].WorkflowParameters}},props:{histories:{validator:function(t){return null===t||t.every&&t.every((function(t){return t instanceof l["a"].histories.History}))},required:!0},workflow:{validator:function(t){return null===t||t instanceof l["a"].workflows.StoredWorkflow},required:!0},selection_validator:{type:Function,default:function(t){return 0===t.length?"Invalid dataset selection":null}}},data:function(){return{invocation_name:"",params:{},project:null}},computed:{history:function(){var t=this;return this.histories&&this.histories.find((function(e){return e.id===t.project}))||null},projects:function(){return this.histories?this.histories.map((function(t){return{text:t.name,value:t.id}})):[]}},methods:{submit:function(){if(!this.workflow)throw"Workflow not ready";if(this.$refs.invocation_name.reportValidity()&&this.$refs.workflow_parameters.reportValidity()){var t=JSON.parse(JSON.stringify(this.params)),e=this.workflow.invoke(t,void 0,this.invocation_name);this.$refs.workflow_parameters.reset(),this.invocation_name="",this.$emit("galaxy-workflow-invocation",e)}},onInput:function(t){this.params=t}},watch:{histories:function(t){var e=this;t&&t.length>0&&!t.some((function(t){return t.id===e.project}))&&(this.project=t.reduce((function(t,e){return new Date(e.update_time)>new Date(t.update_time)?e:t}),t[0]).id)}}},u=c,d=(n("b112"),n("2877")),f=Object(d["a"])(u,a,s,!1,null,"3b1af9e9",null),h=f.exports,p=n("8fcb"),b=n("1ab6"),m=n("b867"),v=n("8994"),w=n.n(v),y={name:"Analysis",components:{HTMLFragment:m["a"],JobRunner:h,Jobs:p["a"],Quota:function(){return l["e"].Quota},Histories:function(){return l["d"].Histories},History:function(){return l["d"].History},HistoryContents:function(){return l["d"].HistoryContents}},data:function(){return{current_tab:1,origin:window.location.origin,instructions:w.a,auth_fail:!1}},props:{tour:{type:String,default:""}},methods:{start_tour:function(t){this.workflow&&t&&this.$tours[t].start()},invoked:function(t){this.current_tab=0,Object(r["g"])(t)},show_api_key:function(){this.$bvModal.msgBoxOk(localStorage.getItem(b["a"]),{title:"API Key",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.auth_fail||e)&&(this.auth_fail=!1,Object(r["b"])(!0).then((function(){Object(b["e"])(t.$router,t.$route)})).catch((function(){t.auth_fail=!0})))},makeUploadHistory:r["f"]},computed:{workflow:r["c"],histories:r["e"],invocations:function(){var t=Object(r["c"])();return this.auth_fail?[]:t&&t.invocationsFetched?Object(r["d"])(t):null},user:function(){return this.user_id?l["a"].users.User.find(this.user_id):null}},watch:{invocations:function(t,e){e&&e.length>0&&(!t||t.length!==e.length)&&(this.current_tab=0)},workflow:function(){this.start_tour(this.tour)},tour:function(){this.tour&&(Object(b["e"])(this.$router,this.$route),this.workflow&&this.$tours[this.tour].start())}},activated:function(){this.init()},created:function(){this.init(!0)},deactivated:function(){this.tour&&this.$tours[this.tour].stop()}},k=y,_=(n("341f"),Object(d["a"])(k,o,i,!1,null,"5aaa80d6",null));e["default"]=_.exports},ea0f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-779e2005.b6345739.js.map