{"version":3,"sources":["webpack:///./src/IslandCompare/Analysis.vue?35af","webpack:///./src/assets/instructions.htm","webpack:///./src/components/JobRunner.vue?1af6","webpack:///./src/IslandCompare/Analysis.vue?9806","webpack:///./src/components/JobRunner.vue?261d","webpack:///src/components/JobRunner.vue","webpack:///./src/components/JobRunner.vue?c2d8","webpack:///./src/components/JobRunner.vue?8522","webpack:///src/IslandCompare/Analysis.vue","webpack:///./src/IslandCompare/Analysis.vue?a8ee","webpack:///./src/IslandCompare/Analysis.vue?bbd6"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","user","total_disk_usage","quota","_v","proxy","model","value","callback","$$v","current_tab","expression","ref","invocations","nativeOn","$event","preventDefault","$router","push","on","start_tour","origin","instructions","show_api_key","histories","then","makeUploadHistory","histSlotProps","_l","id","hcSlotProps","workflow","selection","length","invoked","staticRenderFns","projects","project","invocation_name","submit","history","onInput","component"],"mappings":"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","file":"js/chunk-779e2005.b6345739.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=style&index=0&id=5aaa80d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=style&index=0&id=5aaa80d6&scoped=true&lang=css&\"","module.exports = \"<!-- DO NOT MODIFY! THIS CONTENT WAS DYNAMICALLY GENERATED AND ANY CHANGES WILL BE OVERWRITTEN. See ../static/*.md -->\\n<dl>\\n<dt>Upload your data</dt>\\n<dd>Drag and drop your files into the 'Input datasets' box on the right. Alternatively, click the upload button <i class=\\\"icon-file-upload\\\"></i> and select your datasets to upload.\\n<strong>Permitted dataset formats are Genbank or EMBL.</strong></dd>\\n<dt>Select your data by clicking them</dt>\\n<dd>Hold Ctrl (⌘ for mac) to select multiple. Hold Shift to select a range. Ctrl-a (⌘-a for mac) to select all.</dd>\\n<dt>Upload a phylogenetic tree in newick format (Optional)</dt>\\n<dd>The tree will decide the order of alignment in the visualization. The file must have a '.newick' extension and refer to the genomes by accession. If no tree is provided, one will be automatically computed.</dd>\\n<dt>Select a reference genome (Optional)</dt>\\n<dd>If you are analysing draft genomes, select a reference genome that is closest to your datasets species. The drafts will be stitched in the order of alignment to the reference. If no reference is selected the draft contigs will be stitched in the order they appear in the uploaded dataset. The dataset label will be used for the stitched sequence identifier. If you specify a newick file, it must include this identifier.</dd>\\n<dt>Specify a label to identify the analysis, and click submit</dt>\\n<dd>The pending job will appear in the Recent Jobs tab. Once complete a &quot;Visualize&quot; button will appear in the Job History page along with the option to download the analysis.</dd>\\n</dl>\\n<p><strong>Be sure to bookmark this page to return to your work. The above URL is unique to you, and will be retained for three months following your last activity.</strong></p>\\n\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobRunner.vue?vue&type=style&index=0&id=3b1af9e9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobRunner.vue?vue&type=style&index=0&id=3b1af9e9&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"Analysis\",attrs:{\"fluid\":\"\"}},[_c('b-row',{attrs:{\"align-h\":\"between\"}},[_c('b-col',{attrs:{\"xl\":\"6\"}},[_c('b-tabs',{staticClass:\"analysis-tabs\",scopedSlots:_vm._u([{key:\"tabs-end\",fn:function(){return [_c('li',{staticClass:\"nav-item align-self-center progress-tab\"},[_c('Quota',{attrs:{\"usage\":(_vm.user && _vm.user.total_disk_usage) || 0,\"quota\":(_vm.user && _vm.user.quota) || 0}},[_vm._v(\" Quota used: \")])],1)]},proxy:true}]),model:{value:(_vm.current_tab),callback:function ($$v) {_vm.current_tab=$$v},expression:\"current_tab\"}},[_c('b-tab',{attrs:{\"title\":\"Recent Jobs\"}},[_c('Jobs',{ref:\"jobs\",attrs:{\"invocations\":_vm.invocations},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.$router.push('/history')}}})],1),_c('b-tab',{staticClass:\"help\",attrs:{\"title\":\"Instructions\"}},[_c('p',[_c('a',{staticClass:\"tutorial-start button-icon inline\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.start_tour('tour')}}},[_c('i',{staticClass:\"icon icon-tutorial\"}),_vm._v(\" Tutorial\")]),_vm._v(\" Please see \"),_c('b-link',{attrs:{\"to\":\"/about\"}},[_vm._v(\"About\")]),_vm._v(\" and \"),_c('b-link',{attrs:{\"to\":\"/faq\"}},[_vm._v(\"FAQ\")]),_vm._v(\" for more information. \")],1),_c('p',[_vm._v(\" Check out these \"),_c('b-link',{attrs:{\"to\":(\"visualize?src=\" + _vm.origin + \"/demo/listeria_sample_analysis.gff3\")}},[_vm._v(\"example Listeria\")]),_vm._v(\" or \"),_c('b-link',{attrs:{\"to\":(\"visualize?src=\" + _vm.origin + \"/demo/pseudomonas_sample_analysis.gff3\")}},[_vm._v(\"example Pseudomonas\")]),_vm._v(\" analyses. \")],1),_c('HTMLFragment',{attrs:{\"content\":_vm.instructions}}),_c('div',{staticClass:\"show-api-key\"},[_c('a',{staticClass:\"button-icon inline\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.show_api_key($event)}}},[_c('i',{staticClass:\"icon icon-api\"}),_vm._v(\" Show API Key\")]),_c('i',{staticClass:\"icon icon-info\",attrs:{\"title\":\"The API key is used for the command line interface and other utilities that access the backend directly.\"}})])],1),_c('b-tab',{staticClass:\"projects\",attrs:{\"title\":\"Projects\"}},[_c('p',[_vm._v(\"Select multiple projects by Ctrl-clicking their tabs. Drag datasets between to add to the project.\")]),(_vm.histories)?_c('Histories',{attrs:{\"models\":_vm.histories},on:{\"galaxy-history-create\":function($event){return $event.then(_vm.makeUploadHistory)}},scopedSlots:_vm._u([{key:\"default\",fn:function(histSlotProps){return _vm._l((histSlotProps.models),function(model){return _c('History',{key:model.id,attrs:{\"model\":model},scopedSlots:_vm._u([{key:\"default\",fn:function(hcSlotProps){return [_c('HistoryContents',{attrs:{\"history\":hcSlotProps.model}})]}}],null,true)})})}}],null,false,976229781)}):_c('div',{staticClass:\"text-center loading-spinner\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\"Loading...\")])],1)],1)],1)],1),_c('b-col',{attrs:{\"xl\":\"6\"}},[_c('JobRunner',{attrs:{\"histories\":_vm.histories,\"workflow\":_vm.workflow,\"selection_validator\":function (selection){ return selection.length<2?'You must select more than one dataset for comparison':null; }},on:{\"galaxy-workflow-invocation\":_vm.invoked}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"JobRunner\"},[_c('b-row',[_c('b-input-group',{attrs:{\"prepend\":\"Project\"}},[_c('b-form-select',{attrs:{\"options\":_vm.projects,\"disabled\":this.histories === null,\"disabled-field\":\"Loading..\"},model:{value:(_vm.project),callback:function ($$v) {_vm.project=$$v},expression:\"project\"}})],1)],1),_c('b-row',[_c('b-input-group',{attrs:{\"prepend\":\"Analysis Label\"}},[_c('b-form-input',{ref:\"invocation_name\",staticClass:\"invocation-name\",attrs:{\"placeholder\":\"Label this job to identify it from others\",\"required\":\"\"},model:{value:(_vm.invocation_name),callback:function ($$v) {_vm.invocation_name=$$v},expression:\"invocation_name\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"invocation-submit\",attrs:{\"text\":\"Submit\",\"variant\":\"success\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])],1)],1)],1),_c('WorkflowParameters',{ref:\"workflow_parameters\",attrs:{\"history\":_vm.history,\"workflow\":_vm.workflow},on:{\"input\":_vm.onInput}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-container class=\"JobRunner\">\n        <b-row>\n            <b-input-group prepend=\"Project\">\n                <b-form-select v-model=\"project\" :options=\"projects\" :disabled=\"this.histories === null\" disabled-field=\"Loading..\" />\n            </b-input-group>\n        </b-row>\n        <b-row>\n            <b-input-group prepend=\"Analysis Label\">\n                <b-form-input ref=\"invocation_name\" class=\"invocation-name\" v-model=\"invocation_name\" placeholder=\"Label this job to identify it from others\" required />\n                <b-input-group-append>\n                    <b-button text=\"Submit\" variant=\"success\" @click=\"submit\" class=\"invocation-submit\">Submit</b-button>\n                </b-input-group-append>\n            </b-input-group>\n        </b-row>\n        <WorkflowParameters ref=\"workflow_parameters\"\n                            v-bind:history=\"history\"\n                            v-bind:workflow=\"workflow\"\n                            @input=\"onInput\"\n        />\n    </b-container>\n</template>\n\n<script>\n    import {workflows, api} from \"galaxy-client\";\n\n    export default {\n        name: \"JobRunner\",\n        components: {\n            WorkflowParameters: ()=>workflows.WorkflowParameters,\n        },\n        props: {\n            histories: {\n                validator(prop) {return prop === null || (prop.every && prop.every(p=>p instanceof api.histories.History))},\n                required: true,\n            },\n            workflow: {\n                validator(prop) {return prop === null || prop instanceof api.workflows.StoredWorkflow},\n                required: true,\n            },\n            selection_validator: {\n                type: Function,\n                default: selection => selection.length === 0 ? \"Invalid dataset selection\" : null,\n            },\n        },\n        data() {\n            return {\n                invocation_name: '',\n                params: {},\n                project: null,\n            }\n        },\n        computed: {\n            history() {\n                if (!this.histories) return null;\n                return this.histories.find(h=>h.id === this.project) || null;\n            },\n            projects() {\n                if (!this.histories) return [];\n                return this.histories.map(h=>({text: h.name, value: h.id}));\n            }\n        },\n        methods: {\n            submit() {\n                if (!this.workflow) throw(\"Workflow not ready\");\n                if (!this.$refs.invocation_name.reportValidity()) return;  // Trigger label field validator\n                if (!this.$refs.workflow_parameters.reportValidity()) return;  // Trigger workflow params validator\n\n                // TODO https://github.com/brinkmanlab/IslandCompare/issues/87\n\n                // Vue observers cause a race condition where the values are reset before invoke can access them.\n                // The following causes a deep copy to avoid that\n                const params = JSON.parse(JSON.stringify(this.params));\n\n                const invocation = this.workflow.invoke(params, undefined, this.invocation_name);\n                this.$refs.workflow_parameters.reset();\n                this.invocation_name = '';\n                this.$emit('galaxy-workflow-invocation', invocation);\n            },\n            onInput(value) {\n                this.params = value;\n            },\n        },\n        watch: {\n            histories(new_val) {\n                // Set current project to most recent updated on load\n                if (new_val && new_val.length > 0 && !new_val.some(h=>h.id === this.project)) {\n                    this.project = new_val.reduce((acc, cur)=>new Date(cur.update_time) > new Date(acc.update_time) ? cur : acc, new_val[0]).id;\n                }\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .row, >>> .galaxy-workflow-parameters > .row {\n        margin: 0;\n        margin-bottom: 1vh;\n    }\n\n    .JobRunner {\n        padding-top: 1vh;\n        padding-bottom: 1vh;\n    }\n\n    >>> .galaxy-workflow-parameters > .row {\n        //margin-bottom: 3vh;\n    }\n\n    >>> .galaxy-workflow-parameters .card-header {\n        font-weight: bold;\n        height: 2em;\n    }\n\n    >>> .galaxy-workflow-parameters {\n        display: contents;\n    }\n\n    >>> .galaxy-workflow-parameters .card-body {\n        padding: 0;\n    }\n\n    >>> .galaxy-workflow-parameters .card-header {\n        padding: 0 1rem;\n    }\n\n    >>> .galaxy-workflow-parameters .card-footer {\n        padding: 0 1rem;\n        font-size: 0.8em;\n    }\n\n    >>> .galaxy-workflow-parameters-steps {\n        display: none;\n    }\n\n    >>> .galaxy-workflow-parameters > .row > * {\n        width: 100%;\n    }\n\n    >>> .galaxy-workflow-parameters .table-sm td {\n        padding: 0;\n    }\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobRunner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobRunner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobRunner.vue?vue&type=template&id=3b1af9e9&scoped=true&\"\nimport script from \"./JobRunner.vue?vue&type=script&lang=js&\"\nexport * from \"./JobRunner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobRunner.vue?vue&type=style&index=0&id=3b1af9e9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b1af9e9\",\n  null\n  \n)\n\nexport default component.exports","<template xmlns:v-slot=\"http://www.w3.org/1999/XSL/Transform\">\n    <b-container class=\"Analysis\" fluid>\n        <b-row align-h=\"between\">\n            <b-col xl=\"6\">\n                <b-tabs v-model=\"current_tab\" class=\"analysis-tabs\">\n                    <b-tab title=\"Recent Jobs\">\n                        <!-- TODO https://bootstrap-vue.js.org/docs/components/tabs#add-custom-content-to-tab-title -->\n                        <!-- Shows running and completed jobs -->\n                        <Jobs v-bind:invocations=\"invocations\" ref=\"jobs\" @click.native.prevent=\"$router.push('/history')\">\n                        </Jobs>\n                    </b-tab>\n                    <b-tab class=\"help\" title=\"Instructions\">\n                        <p>\n                            <a @click.prevent=\"start_tour('tour')\" href=\"#\" class=\"tutorial-start button-icon inline\"><i class=\"icon icon-tutorial\"></i> Tutorial</a>\n                            Please see <b-link to=\"/about\" >About</b-link> and <b-link to=\"/faq\">FAQ</b-link> for more information.\n                        </p>\n                        <p>\n                            Check out these <b-link :to=\"`visualize?src=${origin}/demo/listeria_sample_analysis.gff3`\">example Listeria</b-link> or <b-link :to=\"`visualize?src=${origin}/demo/pseudomonas_sample_analysis.gff3`\">example Pseudomonas</b-link> analyses.\n                        </p>\n                        <HTMLFragment :content=\"instructions\" />\n                        <div class=\"show-api-key\">\n                            <a @click.prevent=\"show_api_key\" href=\"#\" class=\"button-icon inline\"><i class=\"icon icon-api\"></i> Show API Key</a><i class=\"icon icon-info\" title=\"The API key is used for the command line interface and other utilities that access the backend directly.\"></i>\n                        </div>\n                    </b-tab>\n                    <b-tab class=\"projects\" title=\"Projects\">\n                        <p>Select multiple projects by Ctrl-clicking their tabs. Drag datasets between to add to the project.</p>\n                        <Histories :models=\"histories\" v-if=\"histories\" v-slot:default=\"histSlotProps\" @galaxy-history-create=\"$event.then(makeUploadHistory)\">\n                            <History :model=\"model\" v-slot:default=\"hcSlotProps\" v-for=\"model of histSlotProps.models\" :key=\"model.id\">\n                                <HistoryContents :history=\"hcSlotProps.model\" />\n                            </History>\n                        </Histories>\n                        <div class=\"text-center loading-spinner\" v-else>\n                            <b-spinner class=\"align-middle\"></b-spinner>\n                            <strong>Loading...</strong>\n                        </div>\n                    </b-tab>\n                    <template v-slot:tabs-end >\n                        <li class=\"nav-item align-self-center progress-tab\">\n                            <Quota :usage=\"(user && user.total_disk_usage) || 0\" :quota=\"(user && user.quota) || 0\">\n                                Quota used:\n                            </Quota>\n                        </li>\n                    </template>\n                </b-tabs>\n            </b-col>\n            <b-col xl=\"6\">\n                <JobRunner v-bind:histories=\"histories\"\n                           v-bind:workflow=\"workflow\"\n                           v-bind:selection_validator=\"selection=>selection.length<2?'You must select more than one dataset for comparison':null\"\n                           @galaxy-workflow-invocation=\"invoked\"\n                />\n            </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\n    import { getConfiguredWorkflow, getUploadHistories, makeUploadHistory, getInvocations, onInvocation, fetchStateAndUploadHistories } from \"../app\";\n    // TODO async load these components\n    import JobRunner from '../components/JobRunner';\n    import Jobs from '../components/Jobs';\n\n    import {updateRoute, api_key_key} from \"../auth\";\n    import HTMLFragment from \"../components/HTMLFragment\";\n    import instructions from \"html-loader!@/assets/instructions.htm\";\n\n    import {users, histories, api} from \"galaxy-client\";\n\n    export default {\n        name: \"Analysis\",\n        components: {\n            HTMLFragment,\n            JobRunner,\n            Jobs,\n            Quota: ()=>users.Quota,\n            Histories: ()=>histories.Histories,\n            History: ()=>histories.History,\n            HistoryContents: ()=>histories.HistoryContents,\n        },\n        data() { return {\n            current_tab: 1,\n            origin: window.location.origin,\n            instructions,\n            auth_fail: false,\n        }},\n        props: {\n            tour: {\n                type: String,\n                default: '',\n            }\n        },\n        methods: {\n            start_tour(tour) {\n                if (this.workflow && tour) this.$tours[tour].start();\n            },\n            invoked(invocation) {\n                // Show jobs tab\n                this.current_tab=0;\n                // Add application tag to history\n                onInvocation(invocation)\n            },\n            show_api_key() {\n                // getAPIKey verifies key, get directly from store instead\n                this.$bvModal.msgBoxOk(localStorage.getItem(api_key_key), {\n                    title: 'API Key',\n                    size: 'sm',\n                    buttonSize: 'sm',\n                    okVariant: 'info',\n                    headerClass: 'p-2 border-bottom-0',\n                    footerClass: 'p-2 border-top-0',\n                    centered: true\n                });\n            },\n            init(force = false) {\n                if (this.auth_fail || force) {\n                    this.auth_fail = false;\n                    fetchStateAndUploadHistories(true).then(()=>{ // gidPromise can fail and then be reassigned by fetch. This happens late and is a race condition with below\n                        updateRoute(this.$router, this.$route);\n                    }).catch(() => { // TODO emit an event on $root and listen for it instead\n                        this.auth_fail = true;\n                    });\n                }\n            },\n            makeUploadHistory,\n        },\n        computed: {\n            workflow: getConfiguredWorkflow,\n            histories: getUploadHistories,\n            invocations() {\n                const workflow = getConfiguredWorkflow();\n                if (this.auth_fail) return [];\n                if (!workflow || !workflow.invocationsFetched) return null;\n                return getInvocations(workflow);\n            },\n            user() {\n                if (this.user_id) return api.users.User.find(this.user_id);\n                return null;\n            }\n        },\n        watch: {\n            invocations(last_val, new_val) {\n                // Switch current tab to recent jobs if there are jobs\n                if (new_val && new_val.length > 0 && (!last_val || last_val.length !== new_val.length)) {\n                    this.current_tab = 0;\n                }\n            },\n            workflow() {\n                this.start_tour(this.tour);\n            },\n            tour() {\n                if (this.tour) {\n                    updateRoute(this.$router, this.$route);\n                    if (this.workflow) this.$tours[this.tour].start();\n                }\n            }\n        },\n        activated() {\n            this.init();\n        },\n        created() {\n            this.init(true);\n        },\n        deactivated() {\n            if (this.tour) this.$tours[this.tour].stop();\n        }\n    }\n</script>\n\n<style scoped>\n    .analysis-tabs >>> .nav-tabs {\n        font-size: 0.8em;\n    }\n\n    .analysis-tabs >>> .tab-content {\n        display: flex;\n        flex-direction: row;\n        align-items: stretch;\n        border: 1px solid #dee2e6;\n        border-top: 0;\n        border-bottom-left-radius: 0.25rem;\n        border-bottom-right-radius: 0.25rem;\n        min-height: 70vh;\n        /* height: 1px;  https://stackoverflow.com/a/21836870 */\n    }\n\n    .analysis-tabs >>> .tab-pane {\n        width: 100%;\n    }\n\n    .JobRunner {\n        padding-left: unset;\n        padding-right: unset;\n    }\n\n    .JobRunner >>> .galaxy-workflow-parameter-dataset .b-table-sticky-header {\n        min-height: 4rem;\n    }\n\n    .JobRunner >>> .galaxy-workflow-parameters .Input-datasets .b-table-sticky-header {\n        height: 10rem;\n    }\n\n    .JobRunner >>> .input-group {\n        font-size: 1em;\n    }\n\n    .JobRunner >>> .input-group * {\n        font-size: inherit;\n    }\n\n    .help {\n        /*max-width: 30em;*/\n        padding: 1em;\n        font-size: 0.9em;\n    }\n\n    .help >>> dl {\n        counter-reset: instructions-counter;\n    }\n\n    .help >>> dt:before {\n        content: counter(instructions-counter) '. ';\n        counter-increment: instructions-counter;\n    }\n\n    .help .icon-info {\n        font-size: 20px;\n        color: var(--info);\n    }\n\n    .Jobs {\n        padding: 0.5vw;\n        border-collapse: separate;\n    }\n\n    .Jobs >>> thead {\n        display: none;\n    }\n\n    .Jobs >>> .galaxy-workflow-invocation > :not(.galaxy-history) {\n        display: none;\n        /*visibility: collapse;*/\n    }\n\n    .Jobs >>> .galaxy-workflow-invocation > .galaxy-history > * {\n        display: none;\n    }\n\n    .Jobs >>> .galaxy-workflow-invocation .galaxy-history-label, .Jobs >>> .galaxy-workflow-invocation .galaxy-workflow-invocation-progress:not(.new), .Jobs >>> .galaxy-workflow-invocation-state.new {\n        display: table-cell;\n        font-size: 0.7em;\n    }\n\n    .Jobs >>> .galaxy-workflow-invocation .galaxy-workflow-invocation-progress {\n        width: 100%;\n    }\n\n    .Jobs >>> .galaxy-workflow-invocation .galaxy-history-label {\n        padding-left: 1em;\n        padding-right: 1em;\n        white-space: nowrap;\n    }\n\n    .progress-tab {\n        margin-left: auto;\n        margin-right: 0.5vw;\n        margin-bottom: auto;\n    }\n\n    .galaxy-user-quota >>> .progress-bar.bg-info {\n        background-color: var(--info) !important;\n    }\n\n    .projects {\n        display: flex;\n        flex-direction: column;\n        align-items: stretch;\n    }\n    .projects >>> .galaxy-histories {\n        border-right-width: 0;\n        border-left-width: 0;\n        border-bottom-width: 0;\n        flex-grow: 1;\n        max-height: 67vh;\n    }\n\n    .projects >>> .galaxy-histories .dropdown-toggle {\n        display: none;\n    }\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Analysis.vue?vue&type=template&id=5aaa80d6&scoped=true&xmlns%3Av-slot=http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform&\"\nimport script from \"./Analysis.vue?vue&type=script&lang=js&\"\nexport * from \"./Analysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Analysis.vue?vue&type=style&index=0&id=5aaa80d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aaa80d6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}