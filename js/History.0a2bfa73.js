(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["History","EditableLabel","FunctionIcon"],{"020e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button-group",{staticClass:"galaxy-history-functions"},[e._t("default",null,{item:e.item})],2)},l=[],a=n("c9c5"),o={name:"HistoryFunctions",props:{item:{type:a["default"],required:!0}}},s=o,r=(n("0ab0"),n("2877")),u=Object(r["a"])(s,i,l,!1,null,"ef52dcde",null);t["default"]=u.exports},"02aa":function(e,t,n){"use strict";var i=n("bec7"),l=n.n(i);l.a},"0ab0":function(e,t,n){"use strict";var i=n("2fe1"),l=n.n(i);l.a},"2fe1":function(e,t,n){},"6d1e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-link",{staticClass:"galaxy-function",attrs:{title:e.description,href:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.do_action(t)}}},[n("i",{staticClass:"galaxy-function-icon",class:e.icon}),e._v(" "+e._s(e.label)+" ")])},l=[],a={name:"FunctionIcon",props:{icon:{type:String,default:""},label:{type:String,default:""},description:{type:String,default:""},action:{type:Function,required:!0}},methods:{do_action:function(){this.action.call(this)}}},o=a,s=n("2877"),r=Object(s["a"])(o,i,l,!1,null,"12118e96",null);t["default"]=r.exports},"8a70":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"editable-label"},[null===e.edited_label?[e._v(e._s(e.value))]:n("b-input",{ref:"editbox",attrs:{pattern:e.pattern,formatter:function(e){return e.trim()},placeholder:e.placeholder,autofocus:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.stop_edit(t)},blur:e.stop_edit,click:function(e){e.stopPropagation()}},model:{value:e.edited_label,callback:function(t){e.edited_label=t},expression:"edited_label"}})],2)},l=[],a={name:"EditableLabel",props:{value:{type:String,required:!0},placeholder:{type:String,default:""},pattern:{type:String,default:".+"}},data:function(){return{edited_label:null}},methods:{start_edit:function(){var e=this;this.edited_label=this.value,this.$nextTick((function(){e.$refs.editbox.focus(),e.$refs.editbox.select()}))},stop_edit:function(){null!==this.edited_label&&this.$emit("update",this.edited_label),this.edited_label=null},cancel_edit:function(){this.edited_label=null}}},o=a,s=(n("02aa"),n("2877")),r=Object(s["a"])(o,i,l,!1,null,"7f2facec",null);t["default"]=r.exports},bec7:function(e,t,n){},c9c5:function(e,t,n){"use strict";n.r(t);var i,l,a,o,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"galaxy-history"},[n("EditableLabel",{ref:"label",staticClass:"galaxy-history-label",attrs:{value:e.model.name,placeholder:"Enter a label"},on:{update:e.update_label}}),n("span",{staticClass:"galaxy-history-state"},[e._v(e._s(e.model.state))]),n("time",{staticClass:"galaxy-history-updated",attrs:{datetime:e.model.update_time}},[e._v(e._s(new Date(e.model.update_time).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})))]),e._t("default",null,{model:e.model}),n("HistoryFunctions",{attrs:{item:e.self},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("functions",null,null,e.self),n("RenameHistory",{attrs:{item:t.item},on:{"galaxy-history-rename":function(t){return e.$refs.label.start_edit()}}}),n("RemoveHistory",e._g({attrs:{item:t.item}},e.$listeners))]}}],null,!0)}),e._t("contents",null,null,e.self)],2)},r=[],u=(n("b0c0"),n("1f26")),c=n("8a70"),d=n("020e"),f=n("6d1e"),p={extends:f["default"],name:"Remove",props:{icon:{type:String,default:"icon-trash"},label:{type:String,default:"Remove"},description:{type:String,default:"Remove this history"},item:{type:E,required:!0},action:{type:Function,default:function(){this.item.model.delete(),this.$emit("galaxy-history-deleted",this.item.model)}}}},m=p,y=n("2877"),b=Object(y["a"])(m,i,l,!1,null,"c6dfabfe",null),h=b.exports,_={extends:f["default"],name:"Rename",props:{icon:{type:String,default:"icon-rename"},label:{type:String,default:"Rename"},description:{type:String,default:"Rename this item"},item:{type:E,required:!0},action:{type:Function,default:function(){this.$emit("galaxy-history-rename",this.item.model)}}}},g=_,v=Object(y["a"])(g,a,o,!1,null,"404c3020",null),x=v.exports,k={name:"History",components:{HistoryFunctions:d["default"],RemoveHistory:h,RenameHistory:x,EditableLabel:c["default"]},props:{model:{type:u["History"],required:!0}},data:function(){return{self:this}},methods:{update_label:function(e){this.model.name=e,this.model.put(["name"])}},created:function(){var e=this;this.model.poll_state((function(){return e.$emit("history-completed",e),!0}))},beforeDestroy:function(){this.model&&this.model.stop_polling()}},S=k,$=Object(y["a"])(S,s,r,!1,null,"06e281fc",null),E=t["default"]=$.exports}}]);
//# sourceMappingURL=History.0a2bfa73.js.map