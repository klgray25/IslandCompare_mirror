(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dataset","HistoryItem","EditableLabel","FunctionIcon"],{"02aa":function(t,e,n){"use strict";var i=n("bec7"),a=n.n(i);a.a},"22b7":function(t,e,n){},3281:function(t,e,n){"use strict";var i=n("22b7"),a=n.n(i);a.a},"39a9":function(t,e,n){"use strict";var i=n("5cb0"),a=n.n(i);a.a},4424:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"galaxy-history-item",attrs:{draggable:t.draggable},on:{"&dragstart":function(e){return t.dragstart(e)}}},[t._t("before"),n("span",{staticClass:"galaxy-history-item-hid"},[t._v(t._s(t.model.hid))]),n("EditableLabel",{ref:"label",staticClass:"galaxy-history-item-name",attrs:{value:t.model.name,placeholder:"Enter a name to identify this dataset"},on:{update:t.update_label}}),t.model.upload_progress<100||"queued"===t.model.state||"running"===t.model.state?n("b-progress",{class:"galaxy-history-item-progress w-100 "+this.model.state,attrs:{max:100,variant:"info",striped:"",animated:""}},[n("b-progress-bar",{staticClass:"galaxy-history-item-progressbar",attrs:{value:t.model.upload_progress}})],1):t._e(),t.working?n("span",{staticClass:"galaxy-history-item-status"},[n("b-spinner",{attrs:{small:"",type:"grow",label:t.working}}),t._v(" "+t._s(t.working))],1):t._e(),t._t("default"),n("HistoryItemFunctions",t._g({attrs:{item:this},on:{"galaxy-history-item-rename":function(e){return t.$refs.label.start_edit()}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("history_item_functions",null,{item:e.item,listeners:t.$listeners})]}}],null,!0)},t.$listeners)),t._t("after")],2)},a=[],r=(n("a4d3"),n("4de4"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),o=n("d86b"),s=n("ae96"),l=n("8a70");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d="application/vnd.galaxy.historycontent+json",f={name:"HistoryItem",components:{EditableLabel:l["default"],HistoryItemFunctions:s["default"]},data:function(){return{}},props:{draggable:{type:Boolean,default:!1},model:{type:[o["HistoryDatasetAssociation"],o["HistoryDatasetCollectionAssociation"]],required:!0}},computed:{working:function(){return"auto"===this.model.file_ext?"Verifying data type":"error"===this.model.state?"Error":null}},methods:{update_label:function(t){this.model.name=t,this.model.put(["name"])},dragstart:function(t){t.dataTransfer.setData(d,JSON.stringify(c({hist_id:this.model.history_id},this.model.toInput()))),t.dataTransfer.effectAllowed=this.model instanceof o["HistoryDatasetAssociation"]?"move":"copyMove"}},mounted:function(){if(this.model.hid>this.model.constructor.ghost_hid){var t=this;t.model.poll_state((function(){return"auto"!==t.model.extension}),void 0,3e3)}},beforeDestroy:function(){this.model&&this.model.stop_polling()}},p=f,m=(n("39a9"),n("2877"));n.d(e,"HISTCONTENT_MIME",(function(){return d}));var b=Object(m["a"])(p,i,a,!1,null,"4f1e136f",null);e["default"]=b.exports},"5cb0":function(t,e,n){},"6d1e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-link",{staticClass:"galaxy-function",attrs:{title:t.description,href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.do_action(e)}}},[n("i",{staticClass:"galaxy-function-icon",class:t.icon}),t._v(" "+t._s(t.label)+" ")])},a=[],r={name:"FunctionIcon",props:{icon:{type:String,default:""},label:{type:String,default:""},description:{type:String,default:""},action:{type:Function,required:!0}},methods:{do_action:function(){this.action.call(this)}}},o=r,s=n("2877"),l=Object(s["a"])(o,i,a,!1,null,"12118e96",null);e["default"]=l.exports},"734d":function(t,e,n){"use strict";var i,a,r=n("6d1e"),o=n("4424"),s={extends:r["default"],name:"Remove",props:{icon:{type:String,default:"icon-trash"},label:{type:String,default:"Remove"},description:{type:String,default:"Remove this item from the history"},item:{type:o["default"],required:!0},action:{type:Function,required:!1,default:function(){this.item.model.delete(),this.$emit("galaxy-history-item-deleted",this.item.model)}}}},l=s,u=n("2877"),c=Object(u["a"])(l,i,a,!1,null,"f2ae40d0",null);e["a"]=c.exports},"8a70":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"editable-label"},[null===t.edited_label?[t._v(t._s(t.value))]:n("b-input",{ref:"editbox",attrs:{pattern:t.pattern,formatter:function(t){return t.trim()},placeholder:t.placeholder,autofocus:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.stop_edit(e)},blur:t.stop_edit,click:function(t){t.stopPropagation()}},model:{value:t.edited_label,callback:function(e){t.edited_label=e},expression:"edited_label"}})],2)},a=[],r={name:"EditableLabel",props:{value:{type:String,required:!0},placeholder:{type:String,default:""},pattern:{type:String,default:".+"}},data:function(){return{edited_label:null}},methods:{start_edit:function(){var t=this;this.edited_label=this.value,this.$nextTick((function(){t.$refs.editbox.focus(),t.$refs.editbox.select()}))},stop_edit:function(){null!==this.edited_label&&this.$emit("update",this.edited_label),this.edited_label=null},cancel_edit:function(){this.edited_label=null}}},o=r,s=(n("02aa"),n("2877")),l=Object(s["a"])(o,i,a,!1,null,"7f2facec",null);e["default"]=l.exports},ab69:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HistoryItem",t._b({},"HistoryItem",t.$props,!1))},a=[],r=n("4424"),o={extends:r["default"],name:"Dataset",components:{HistoryItem:r["default"]},data:function(){return{}},props:{},computed:{},methods:{},mounted:function(){}},s=o,l=n("2877"),u=Object(l["a"])(s,i,a,!1,null,"6e760062",null);e["default"]=u.exports},ae96:function(t,e,n){"use strict";n.r(e);var i,a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button-group",{staticClass:"galaxy-history-item-functions"},[t._t("default",null,{item:t.item}),n("RenameHistoryItem",t._g({attrs:{item:t.item}},t.$listeners)),n("RemoveHistoryItem",t._g({attrs:{item:t.item}},t.$listeners))],2)},o=[],s=n("734d"),l=n("6d1e"),u=n("4424"),c={extends:l["default"],name:"Rename",props:{icon:{type:String,default:"icon-rename"},label:{type:String,default:"Rename"},description:{type:String,default:"Rename this item"},item:{type:u["default"],required:!0},action:{type:Function,required:!1,default:function(){this.$emit("galaxy-history-item-rename",this.item.model)}}}},d=c,f=n("2877"),p=Object(f["a"])(d,i,a,!1,null,"7fe66007",null),m=p.exports,b={name:"HistoryItemFunctions",components:{RemoveHistoryItem:s["a"],RenameHistoryItem:m},props:{item:{type:u["default"],required:!0}}},y=b,h=(n("3281"),Object(f["a"])(y,r,o,!1,null,"4bc03d8a",null));e["default"]=h.exports},bec7:function(t,e,n){}}]);
//# sourceMappingURL=Dataset.30afdc52.js.map