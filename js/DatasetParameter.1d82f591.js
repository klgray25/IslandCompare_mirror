(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DatasetParameter","WorkflowParameter","WorkflowParameterBase"],{4496:function(t,e,a){"use strict";var o=a("91b4"),n=a.n(o);n.a},"4e82":function(t,e,a){"use strict";var o=a("23e7"),n=a("1c0b"),i=a("7b0b"),s=a("d039"),l=a("b301"),r=[],c=r.sort,d=s((function(){r.sort(void 0)})),u=s((function(){r.sort(null)})),f=l("sort"),p=d||!u||f;o({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),n(t))}})},"91b4":function(t,e,a){},b1b4:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"galaxy-workflow-parameter",attrs:{"border-variant":t.validation_message?"danger":"default"}},[a("b-card-header",{on:{click:t.toggleCollapsed}},[a("div",[t._v(t._s(t.label+(t.optional?" (Optional)":"")))]),t.optional&&t.collapsed?a("div",{staticClass:"galaxy-workflow-parameter-collapse"},[t._v("Show "),a("i",{staticClass:"icon icon-uncollapse"})]):t._e(),t.optional&&!t.collapsed?a("div",{staticClass:"galaxy-workflow-parameter-collapse"},[t._v("Hide "),a("i",{staticClass:"icon icon-collapse"})]):t._e()]),a("b-card-body",{attrs:{"body-class":t.collapsed?"collapsed":""}},[t._t("default")],2),t.validation_message?a("b-card-footer",{attrs:{"footer-text-variant":"danger"}},[a("em",[t._v(t._s(t.validation_message))])]):a("b-card-footer",[t._v(" "+t._s(t.annotation)+" ")])],1)},n=[],i={name:"WorkflowParameterBase",props:{label:{type:String,required:!0},annotation:{type:String,default:""},optional:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},validation_message:{type:String,default:""}},data:function(){return{collapsed:this.collapse}},methods:{toggleCollapsed:function(){this.optional&&(this.collapsed=!this.collapsed)}}},s=i,l=(a("4496"),a("2877")),r=Object(l["a"])(s,o,n,!1,null,"138fbff7",null);e["default"]=r.exports},ce9f:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=this,a=e.$createElement,o=e._self._c||a;return o("WorkflowParameterBase",e._b({staticClass:"galaxy-workflow-parameter-dataset",attrs:{validation_message:e.validation_message}},"WorkflowParameterBase",Object.assign({},e.$attrs,e.$props),!1),[o("HistoryContents",{ref:"history_contents",attrs:{history:e.history,value:e.value,filter:e.datasetFilter,accepted_upload_types:e.format,selectable:!0},on:{input:e.onInput,upload:function(e){return t.$emit("upload",e)}}}),e.mapped?o("span",[o("i",{staticClass:"icon-batch-mode"}),e._v(" This input expects a single selection. Separate jobs will be triggered for each dataset selection. ")]):e._e()],1)},n=[],i=(a("a4d3"),a("e01a"),a("d28b"),a("caad"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("3ca3"),a("466d"),a("ddb0"),a("5ca1")),s=a("b1b4"),l=a("1f26"),r={name:"DatasetParameter",components:{WorkflowParameterBase:s["default"],HistoryContents:i["default"]},props:{type:{type:String,required:!0},label:{type:String,required:!0},annotation:{type:String,default:""},history:{validator:function(t){return t instanceof l["History"]||null===t},required:!0},value:{type:Array,default:function(){return[]}},format:{type:Array,default:function(){return[]}},optional:{type:Boolean,default:!1},validator:{type:Function,default:function(t){return t?"":"Please select at least one dataset"}}},data:function(){return{selection:null,selected_models:[],validation_message:""}},computed:{mapped:function(){return"data_input"===this.type&&this.selection&&"new_collection"===this.selection.src}},methods:{datasetFilter:function(t){var e=t.name.match(/[^.]+$/);return e=e?e[0]:"",this.format.includes(t.extension)||""===t.extension&&this.format.includes(e)||"auto"===t.extension&&this.format.includes(e)||"data"===t.extension&&this.format.includes(e)},onInput:function(t){this.selected_models=t,0===t.length?this.selection=null:"data_collection_input"===this.type||t.length>1?this.selection={src:"new_collection",collection_type:"list",name:this.label,element_identifiers:t.reduce((function(t,e){var a=e.toInput(),o=e.name,n=1;while(t.some((function(t){return t.name===o})))o=e.name+"_"+n.toString(),++n;return a.name=o,t.push(a),t}),[])}:this.selection=t[0].toInput();var e=this.selection;this.$emit("input",e)},setCustomValidity:function(t){this.validation_message=t},checkValidity:function(){var t=!0,e=!1,a=void 0;try{for(var o,n=this.selected_models[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;if(!i.ready())return!1}}catch(s){e=!0,a=s}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return!(!this.optional||this.selection)||""===this.validator(this.selection)&&""===this.validation_message},reportValidity:function(){var t=!0,e=!1,a=void 0;try{for(var o,n=this.selected_models[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;if(!i.ready())return this.validation_message="Some selected datasets are not ready for analysis. Please wait or make a different selection.",!1}}catch(s){e=!0,a=s}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return!(!this.optional||this.selection)||(this.validation_message=this.validator(this.selected_models),""===this.validation_message)},reset:function(){this.$refs.history_contents.clearSelected()}}},c=r,d=a("2877"),u=Object(d["a"])(c,o,n,!1,null,"65b157c0",null);e["default"]=u.exports}}]);
//# sourceMappingURL=DatasetParameter.1d82f591.js.map