{"version":3,"sources":["webpack:///./galaxy/src/histories/Histories.vue?53ad","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./galaxy/src/histories/Histories.vue?12a2","webpack:///./galaxy/src/histories/HistoryFunctions/Create.vue","webpack:///galaxy/src/histories/HistoryFunctions/Create.vue","webpack:///./galaxy/src/histories/HistoryFunctions/Create.vue?8106","webpack:///galaxy/src/histories/Histories.vue","webpack:///./galaxy/src/histories/Histories.vue?8d52","webpack:///./galaxy/src/histories/Histories.vue?ba3d","webpack:///./node_modules/core-js/modules/es.set.js"],"names":["$","aFunction","toObject","fails","sloppyArrayMethod","test","nativeSort","sort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","SLOPPY_METHOD","FORCED","target","proto","forced","comparefn","call","this","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","ref","on","scroll","$event","preventDefault","stopPropagation","wheel","_l","item","key","model","id","active","mousestart","clientX","activate","_t","_v","_s","name","$refs","create","do_action","scopedSlots","_u","fn","_g","$listeners","proxy","active_models","staticRenderFns","component","collection","collectionStrong","module","exports","init","arguments","length"],"mappings":"qIAAA,yBAA0f,EAAG,G,oCCC7f,IAAIA,EAAI,EAAQ,QACZC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAChBC,EAAoB,EAAQ,QAE5BC,EAAO,GACPC,EAAaD,EAAKE,KAGlBC,EAAqBL,GAAM,WAC7BE,EAAKE,UAAKE,MAGRC,EAAgBP,GAAM,WACxBE,EAAKE,KAAK,SAGRI,EAAgBP,EAAkB,QAElCQ,EAASJ,IAAuBE,GAAiBC,EAIrDX,EAAE,CAAEa,OAAQ,QAASC,OAAO,EAAMC,OAAQH,GAAU,CAClDL,KAAM,SAAcS,GAClB,YAAqBP,IAAdO,EACHV,EAAWW,KAAKf,EAASgB,OACzBZ,EAAWW,KAAKf,EAASgB,MAAOjB,EAAUe,Q,2CC7BlD,ICAI,EAAQ,EDARG,EAAS,WAAa,IAAIC,EAAIF,KAASG,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,mBAAmBC,MAAM,CAAC,UAAU,KAAK,CAACH,EAAG,gBAAgB,CAACA,EAAG,QAAQ,CAACI,IAAI,OAAOD,MAAM,CAAC,KAAO,GAAG,MAAQ,iEAAiEE,GAAG,CAAC,UAAYR,EAAIS,OAAO,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOE,kBAAyBZ,EAAIa,MAAMH,MAAWV,EAAIc,GAAId,EAAS,OAAE,SAASe,GAAM,OAAOZ,EAAG,aAAa,CAACa,IAAID,EAAKE,MAAMC,GAAGZ,MAAM,CAAC,OAASS,EAAKI,QAAQX,GAAG,CAAC,UAAY,SAASE,GAAQA,EAAOC,iBAAiBX,EAAIoB,WAAWV,EAAOW,SAAS,QAAU,SAASX,GAAQ,OAAOV,EAAIsB,SAASZ,EAAQK,MAAS,CAACf,EAAIuB,GAAG,MAAM,CAACvB,EAAIwB,GAAG,IAAIxB,EAAIyB,GAAGV,EAAKE,MAAMS,MAAM,MAAM,CAAC,KAAOX,EAAK,MAAQA,EAAKE,SAAS,MAAK,GAAGd,EAAG,aAAa,CAACE,YAAY,UAAUC,MAAM,CAAC,MAAQ,IAAIE,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOV,EAAI2B,MAAMC,OAAOC,cAAcC,YAAY9B,EAAI+B,GAAG,CAAC,CAACf,IAAI,iBAAiBgB,GAAG,WAAW,MAAO,CAAC7B,EAAG,SAASH,EAAIiC,GAAG,CAAC1B,IAAI,SAASD,MAAM,CAAC,YAAc,yBAAyBN,EAAIkC,eAAeC,OAAM,GAAM,CAACnB,IAAI,UAAUgB,GAAG,WAAW,MAAO,CAAC7B,EAAG,kBAAkB,CAACK,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOV,EAAI2B,MAAMC,OAAOC,eAAe,CAAC1B,EAAG,SAASH,EAAIiC,GAAG,CAAC3B,MAAM,CAAC,YAAc,yBAAyBN,EAAIkC,cAAc,GAAGlC,EAAIuB,GAAG,aAAaY,OAAM,IAAO,MAAK,MAAS,GAAGhC,EAAG,cAAc,CAACA,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACL,EAAIuB,GAAG,UAAU,KAAK,CAAC,OAASvB,EAAIoC,iBAAiB,MAAM,IAC97CC,EAAkB,G,gGEUtB,GACE,QAAF,aACE,KAAF,SACE,MAAF,CAII,KAAJ,CACM,KAAN,OACM,QAAN,aAMI,MAAJ,CACM,KAAN,OACM,QAAN,UAMI,YAAJ,CACM,KAAN,OACM,QAAN,wBAMI,OAAJ,CACM,KAAN,SACM,QAFN,WAGQ,KAAR,uDC7CiZ,I,YFO7YC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QGqBf,GACE,KAAF,YACE,WAAF,CAAI,OAAJ,GACE,MAAF,CAII,OAAJ,CACM,KAAN,MACM,UAAN,IAGE,KAZF,WAYI,MAAJ,CACM,MAAN,GACM,WAAN,IAEE,QAAF,CACI,SADJ,SACA,KAAM,IAAN,OACA,wCACA,sDAAQ,OAAR,yBACM,KAAN,sBAEI,OANJ,SAMA,GACA,gBACA,0CAEI,MAVJ,SAUA,GACM,IAAN,uCACA,uCACM,KAAN,yDAGE,SAAF,CACI,aADJ,WAEM,OAAN,+BAAQ,OAAR,aAEI,cAJJ,WAKM,OAAN,mCAAQ,OAAR,YAEI,gBAPJ,WAQM,OAAN,gCAAQ,OAAR,eAGE,MAAF,CACI,gBADJ,SACA,GACM,IAAN,8CAAQ,OAAR,SACA,uCACM,KAAN,yBAAQ,MAAR,CAAU,OAAV,YAAU,MAAV,SCtFqY,ICQjY,G,UAAY,eACd,EACAvC,EACAsC,GACA,EACA,KACA,WACA,OAIa,e,2CClBf,IAAIE,EAAa,EAAQ,QACrBC,EAAmB,EAAQ,QAI/BC,EAAOC,QAAUH,EAAW,OAAO,SAAUI,GAC3C,OAAO,WAAiB,OAAOA,EAAK7C,KAAM8C,UAAUC,OAASD,UAAU,QAAKvD,MAC3EmD,I","file":"js/HistoryContents.bace7830.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histories.vue?vue&type=style&index=0&id=10f1d0d4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histories.vue?vue&type=style&index=0&id=10f1d0d4&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar SLOPPY_METHOD = sloppyArrayMethod('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || SLOPPY_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"galaxy-histories\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',[_c('b-nav',{ref:\"tabs\",attrs:{\"tabs\":\"\",\"title\":\"Ctrl-click (⌘ for mac) tabs to show multiple. Drag to scroll.\"},on:{\"mousemove\":_vm.scroll,\"wheel\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.wheel($event)}}},_vm._l((_vm.items),function(item){return _c('b-nav-item',{key:item.model.id,attrs:{\"active\":item.active},on:{\"mousedown\":function($event){$event.preventDefault();_vm.mousestart=$event.clientX},\"mouseup\":function($event){return _vm.activate($event, item)}}},[_vm._t(\"tab\",[_vm._v(\" \"+_vm._s(item.model.name)+\" \")],{\"item\":item,\"model\":item.model})],2)}),1),_c('b-dropdown',{staticClass:\"options\",attrs:{\"split\":\"\"},on:{\"click\":function($event){return _vm.$refs.create.do_action()}},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('Create',_vm._g({ref:\"create\",attrs:{\"description\":\"Create a new history\"}},_vm.$listeners))]},proxy:true},{key:\"default\",fn:function(){return [_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.$refs.create.do_action()}}},[_c('Create',_vm._g({attrs:{\"description\":\"Create a new history\"}},_vm.$listeners))],1),_vm._t(\"options\")]},proxy:true}],null,true)})],1),_c('b-card-body',[_c('div',{staticClass:\"galaxy-histories-contents\"},[_vm._t(\"default\",null,{\"models\":_vm.active_models})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcbd5668\",\n  null\n  \n)\n\nexport default component.exports","<!--template>\n\n</template-->\n\n<script>\n    import FunctionIcon from '../../misc/FunctionIcon';\n    import {History} from \"../../api/histories\";\n\n    /**\n     * Create button for History\n     */\n    export default {\n        extends: FunctionIcon,\n        name: \"Create\",\n        props: {\n            /**\n             * @ignore\n             */\n            icon: {\n                type: String,\n                default: 'icon-plus',\n            },\n\n            /**\n             * @ignore\n             */\n            label: {\n                type: String,\n                default: 'Create',\n            },\n\n            /**\n             * @ignore\n             */\n            description: {\n                type: String,\n                default: 'Create a new history',\n            },\n\n            /**\n             * @ignore\n             */\n            action: {\n                type: Function,\n                default() {\n                    this.$emit('galaxy-history-create', History.post());\n                },\n            },\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","<template>\n    <b-card class=\"galaxy-histories\" no-body>\n        <b-card-header>\n            <b-nav tabs @mousemove=\"scroll\" @wheel.prevent.stop=\"wheel\" ref=\"tabs\" title=\"Ctrl-click (⌘ for mac) tabs to show multiple. Drag to scroll.\">\n                <b-nav-item v-for=\"item of items\" :key=\"item.model.id\" :active=\"item.active\"\n                            @mousedown.prevent=\"mousestart=$event.clientX\"\n                            @mouseup=\"activate($event, item)\"\n                            >\n                    <slot name=\"tab\" :item=\"item\" :model=\"item.model\">\n                        {{ item.model.name }}\n                    </slot>\n                </b-nav-item>\n            </b-nav>\n            <b-dropdown split class=\"options\" @click=\"$refs.create.do_action()\">\n                <template #button-content>\n                    <Create ref=\"create\" v-on=\"$listeners\" description=\"Create a new history\"/>\n                </template>\n                <template #default>\n                    <b-dropdown-item @click=\"$refs.create.do_action()\"><Create v-on=\"$listeners\" description=\"Create a new history\"/></b-dropdown-item>\n                    <slot name=\"options\" />\n                </template>\n            </b-dropdown>\n        </b-card-header>\n        <b-card-body>\n            <!-- Extra div required because flex align-items: stretch calculates _visible_ height of parent. Overflow: scroll messes with that -->\n            <div class=\"galaxy-histories-contents\">\n                <slot name=\"default\" :models=\"active_models\" />\n            </div>\n        </b-card-body>\n    </b-card>\n</template>\n\n<script>\n\nimport Create from './HistoryFunctions/Create'\n\n/**\n * Multi History view\n */\nexport default {\n    name: \"Histories\",\n    components: {Create},\n    props: {\n        /**\n         * History model instance\n         */\n        models: {\n            type: Array,\n            required: true,\n        },\n    },\n    data() {return {\n        items: [],\n        mousestart: 0, // Used to differentiate click from scroll of tabs\n    }},\n    methods: {\n        activate(evt, item) {\n            if (Math.abs(evt.clientX - this.mousestart) > 4) return;\n            if (!(evt.ctrlKey || evt.metaKey)) this.items.forEach(i => this.$set(i, 'active', false));\n            this.$set(item, 'active', true);\n        },\n        scroll(evt) {\n            if (evt.buttons === 1)\n                this.$refs.tabs.scrollLeft -= evt.movementX;\n        },\n        wheel(evt) {\n            const delta1 = Math.max(evt.deltaX, evt.deltaY, evt.deltaZ);\n            const delta2 = Math.min(evt.deltaX, evt.deltaY, evt.deltaZ);\n            this.$refs.tabs.scrollLeft += (Math.abs(delta1) > Math.abs(delta2) ? delta1 : delta2) * 4;\n        }\n    },\n    computed: {\n        active_items() {\n            return this.items.filter(i => i.active);\n        },\n        active_models() {\n            return this.active_items.map(i => i.model);\n        },\n        filtered_models() {\n            return this.models.filter(m=>!m.deleted);\n        }\n    },\n    watch: {\n        filtered_models(new_val) {\n            const active = new Set(this.active_models.map(m=>m.id));\n            if (active.size === 0 && new_val.length > 0) active.add(new_val[0].id);\n            this.items = new_val.map(m => ({active: active.has(m.id), model: m}));\n        }\n    }\n}\n</script>\n\n<style scoped>\n.galaxy-histories >>> .card-header {\n    display: flex;\n    flex-wrap: nowrap;\n    flex-direction: row;\n    padding-left: 0.2em;\n    padding-right: 0;\n    padding-bottom: 0;\n}\n\n.galaxy-histories >>> .nav {\n    flex-grow: 1;\n    flex-wrap: nowrap;\n    overflow: hidden;\n    cursor: grab;\n}\n\n.galaxy-histories >>> .nav-item {\n    white-space: nowrap;\n}\n\n.galaxy-histories >>> .nav-item * {\n    user-drag: none;\n    -webkit-user-drag: none;\n    -khtml-user-drag: none;\n    -moz-user-drag: none;\n    -o-user-drag: none;\n    user-select: none;\n}\n\n.galaxy-histories >>> .options {\n    min-width: max-content;  /* Firefox only */\n}\n\n.galaxy-histories >>> .options > button {\n    background-color: #F8F5F0;\n    border-color: #DFD7CA;\n    border-bottom-left-radius: 0;\n    color: #8E8C84;\n}\n\n.galaxy-histories >>> .options .dropdown-item .galaxy-function {\n    text-decoration: none;\n    font-size: 1em;\n}\n\n.galaxy-histories >>> .options .dropdown-item .galaxy-function-icon {\n    margin-right: 0.5ch;\n}\n\n.galaxy-histories >>> .card-body {\n    overflow: scroll;\n    padding: 0.5ch 0 0;\n}\n\n.galaxy-histories >>> .galaxy-histories-contents {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: stretch;\n}\n\n.galaxy-histories >>> .galaxy-history {\n    padding: 0 0.5ch;\n    min-width: 16em;\n    width: 100%;\n    display: grid;\n    border-left: 1px solid rgba(223, 215, 202, 0.75);\n    grid-template-columns: auto auto;\n    grid-template-rows: min-content min-content auto;\n    grid-template-areas:\n        \"name functions\"\n        \"updated updated\"\n        \"content content\";\n}\n\n.galaxy-histories >>> .galaxy-history:first-of-type {\n    border-left: none;\n}\n\n.galaxy-histories >>> .galaxy-history > * {\n    display: block;\n}\n\n.galaxy-histories >>> .galaxy-history .galaxy-history-label {\n    grid-area: name;\n    font-weight: bold;\n}\n\n.galaxy-histories >>> .galaxy-history .galaxy-history-functions {\n    grid-area: functions;\n}\n\n.galaxy-histories >>> .galaxy-history .galaxy-history-state {\n    display: none;\n}\n\n.galaxy-histories >>> .galaxy-history .galaxy-history-updated {\n    grid-area: updated;\n}\n\n.galaxy-histories >>> .galaxy-history .galaxy-history-contents {\n    grid-area: content;\n}\n\n.galaxy-histories >>> .galaxy-history .galaxy-history-contents-list {\n    height: 100%;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Histories.vue?vue&type=template&id=10f1d0d4&scoped=true&\"\nimport script from \"./Histories.vue?vue&type=script&lang=js&\"\nexport * from \"./Histories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Histories.vue?vue&type=style&index=0&id=10f1d0d4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10f1d0d4\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n"],"sourceRoot":""}