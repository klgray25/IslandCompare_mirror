(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c1b39fa","DBKeyParameter","ReferenceGenomes","SimpleParameter","WorkflowParameterBase"],{"0bb2":function(e,t,a){"use strict";var n=a("2f67"),r=a.n(n);r.a},"1d18":function(e,t,a){},"20a9":function(e,t,a){"use strict";var n=a("1d18"),r=a.n(n);r.a},2456:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("WorkflowParameterBase",e._b({staticClass:"galaxy-workflow-parameter-dbkey",attrs:{validation_message:e.validation_message}},"WorkflowParameterBase",Object.assign({},e.$attrs,e.$props),!1),[a("ReferenceGenomes",{ref:"table",attrs:{value:e.value},on:{input:e.onInput}})],1)},r=[],i=a("4430"),s=a("b1b4"),o={name:"DBKeyParameter",components:{WorkflowParameterBase:s["default"],ReferenceGenomes:i["default"]},props:{label:{type:String,required:!0},value:{type:String,default:""},annotation:{type:String,default:""},optional:{type:Boolean,default:!1}},data:function(){return{validation_message:"",selection:this.value}},methods:{onInput:function(e){if(!e)return this.selection="",void this.$emit("input","");this.selection=e.id,this.$emit("input",e.id)},setCustomValidity:function(e){this.validation_message=e},checkValidity:function(){return this.optional||""!==this.selection},reportValidity:function(){return!!this.checkValidity()||(this.validation_message="Please select a reference dataset",!1)},reset:function(){this.$refs.table.clearSelected()}},mounted:function(){this.optional&&this.$emit("input",this.selection)}},l=o,u=a("2877"),c=Object(u["a"])(l,n,r,!1,null,"6f2fe38e",null);t["default"]=c.exports},"2f67":function(e,t,a){},4430:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"galaxy-reference-genomes"},[a("b-row",[a("b-input-group",{attrs:{size:"sm",prepend:"Filter"}},[a("b-form-input",{attrs:{value:e.filter,type:"search",placeholder:"Type to Search"},on:{input:e.update_filter}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1),a("b-table",{ref:"table",attrs:{hover:"",small:"",borderless:"",selectable:"","show-empty":"","select-mode":"single",items:e.genomes,busy:e.isLoading,fields:[{key:"name",sortable:!0}],"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-function":e.filterFunc,"primary-key":"id","thead-class":"hidden_header"},on:{"row-selected":e.row_selected}},[a("template",{slot:"table-busy"},[a("div",{staticClass:"text-center"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Loading...")])],1)])],2),a("b-row",{attrs:{"align-h":"center"}},[a("b-pagination",{attrs:{"per-page":e.perPage,"total-rows":e.totalRows,limit:"8"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},r=[],i=(a("a4d3"),a("e01a"),a("d28b"),a("4de4"),a("caad"),a("b0c0"),a("a9e3"),a("d3b7"),a("2532"),a("3ca3"),a("ddb0"),a("3835")),s=(a("96cf"),a("1da1")),o=a("f281"),l={name:"ReferenceGenomes",props:{perPage:{type:Number,default:10},value:{type:String,default:""},filter_delay:{type:Number,default:500}},data:function(){return{currentPage:1,filter:"",filter_delay_handle:null}},methods:{row_selected:function(e){e.length?this.$emit("input",e[0]):this.$emit("input",null)},clearSelected:function(){this.$refs.table.clearSelected(),this.$emit("input",null)},filterFunc:function(e,t){return e.name.toLowerCase().includes(t)},update_filter:function(e){null!==this.filter_delay_handle&&window.clearTimeout(this.filter_delay_handle),this.filter_delay_handle=window.setTimeout((function(t){return t.filter=e.toLowerCase()}),this.filter_delay,this)}},computed:{totalRows:function(){return this.genomes.length},isLoading:function(){return 0===this.genomes.length}},asyncComputed:{genomes:{get:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o["Genome"].query().orderBy("name").get(),0!==t.length){e.next=5;break}return e.next=4,o["Genome"].fetch();case 4:t=o["Genome"].query().orderBy("name").get();case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),default:[]}},mounted:function(){if(this.value){var e=!0,t=!1,a=void 0;try{for(var n,r=this.genomes().elements()[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=Object(i["a"])(n.value,2),o=s[0],l=s[1];if(this.value===l.id){this.$refs.table.selectRow(o);break}}}catch(u){t=!0,a=u}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}}}},u=l,c=(a("20a9"),a("2877")),d=Object(c["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},4496:function(e,t,a){"use strict";var n=a("91b4"),r=a.n(n);r.a},"91b4":function(e,t,a){},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),s=a("6eeb"),o=a("5135"),l=a("c6b6"),u=a("7156"),c=a("c04e"),d=a("d039"),p=a("7c73"),f=a("241c").f,m=a("06cf").f,h=a("9bf2").f,y=a("58a8").trim,b="Number",_=r[b],v=_.prototype,g=l(p(v))==b,w=function(e){var t,a,n,r,i,s,o,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=y(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=u.slice(2),s=i.length,o=0;o<s;o++)if(l=i.charCodeAt(o),l<48||l>r)return NaN;return parseInt(i,n)}return+u};if(i(b,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var k,S=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof S&&(g?d((function(){v.valueOf.call(a)})):l(a)!=b)?u(new _(w(t)),a,S):w(t)},$=n?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;$.length>P;P++)o(_,k=$[P])&&!o(S,k)&&h(S,k,m(_,k));S.prototype=v,v.constructor=S,s(r,b,S)}},b1b4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{staticClass:"galaxy-workflow-parameter",attrs:{"border-variant":e.validation_message?"danger":"default"}},[a("b-card-header",{on:{click:e.toggleCollapsed}},[a("div",[e._v(e._s(e.label+(e.optional?" (Optional)":"")))]),e.optional&&e.collapsed?a("div",{staticClass:"galaxy-workflow-parameter-collapse"},[e._v("Show "),a("i",{staticClass:"icon icon-uncollapse"})]):e._e(),e.optional&&!e.collapsed?a("div",{staticClass:"galaxy-workflow-parameter-collapse"},[e._v("Hide "),a("i",{staticClass:"icon icon-collapse"})]):e._e()]),a("b-card-body",{attrs:{"body-class":e.collapsed?"collapsed":""}},[e._t("default")],2),e.validation_message?a("b-card-footer",{attrs:{"footer-text-variant":"danger"}},[a("em",[e._v(e._s(e.validation_message))])]):a("b-card-footer",[e._v(" "+e._s(e.annotation)+" ")])],1)},r=[],i={name:"WorkflowParameterBase",props:{label:{type:String,required:!0},annotation:{type:String,default:""},optional:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},validation_message:{type:String,default:""}},data:function(){return{collapsed:this.collapse}},methods:{toggleCollapsed:function(){this.optional&&(this.collapsed=!this.collapsed)}}},s=i,o=(a("4496"),a("2877")),l=Object(o["a"])(s,n,r,!1,null,"138fbff7",null);t["default"]=l.exports},b4ca:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return["data_input","data_collection_input"].includes(e.type)?a("DatasetParameter",e._b({ref:"param",on:{input:e.onInput,upload:e.onUpload}},"DatasetParameter",Object.assign({},e.$attrs,e.$props,{value:e.value||[]}),!1)):"dbkey_input"===e.type?a("DBKeyParameter",e._b({ref:"param",on:{input:e.onInput}},"DBKeyParameter",Object.assign({},e.$attrs,e.$props),!1)):["select","boolean","text","integer","float","color"].includes(e.type)?a("SimpleParameter",e._b({ref:"param",on:{input:e.onInput}},"SimpleParameter",Object.assign({},e.$attrs,e.$props),!1)):a("span",[e._v("Unrecognised input type")])},r=[],i=(a("a9e3"),a("ade3")),s=a("ce9f"),o=a("2456"),l=a("e212"),u=a("1f26"),c={name:"WorkflowParameter",components:{SimpleParameter:l["default"],DBKeyParameter:o["default"],DatasetParameter:s["default"]},props:{type:{type:String,required:!0},label:{type:String,required:!0},index:{type:String,required:!0},uuid:{type:String,required:!0},annotation:{type:String,default:""},optional:{type:Boolean,default:!1},history:{validator:function(e){return e instanceof u["History"]||null===e},required:!0},value:{type:[String,Number,Array],default:""}},methods:{onInput:function(e){this.$emit("input",Object(i["a"])({},this.index,e))},onUpload:function(e){e.default()},setCustomValidity:function(e){this.$refs.param.setCustomValidity(e)},checkValidity:function(){return this.$refs.param.checkValidity()},reportValidity:function(){return this.$refs.param.reportValidity()},reset:function(){this.$refs.param.reset()}}},d=c,p=a("2877"),f=Object(p["a"])(d,n,r,!1,null,"26fbfc4e",null);t["default"]=f.exports},ce9f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("WorkflowParameterBase",t._b({staticClass:"galaxy-workflow-parameter-dataset",attrs:{validation_message:t.validation_message}},"WorkflowParameterBase",Object.assign({},t.$attrs,t.$props),!1),[n("HistoryContents",{ref:"history_contents",attrs:{history:t.history,value:t.value,filter:t.datasetFilter,accepted_upload_types:t.format,selectable:!0},on:{input:t.onInput,upload:function(t){return e.$emit("upload",t)}}}),t.mapped?n("span",[n("i",{staticClass:"icon-batch-mode"}),t._v(" This input expects a single selection. Separate jobs will be triggered for each dataset selection. ")]):t._e()],1)},r=[],i=(a("a4d3"),a("e01a"),a("d28b"),a("caad"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("3ca3"),a("466d"),a("ddb0"),a("5ca1")),s=a("b1b4"),o=a("1f26"),l={name:"DatasetParameter",components:{WorkflowParameterBase:s["default"],HistoryContents:i["default"]},props:{type:{type:String,required:!0},label:{type:String,required:!0},annotation:{type:String,default:""},history:{validator:function(e){return e instanceof o["History"]||null===e},required:!0},value:{type:Array,default:function(){return[]}},format:{type:Array,default:function(){return[]}},optional:{type:Boolean,default:!1},validator:{type:Function,default:function(e){return e?"":"Please select at least one dataset"}}},data:function(){return{selection:null,selected_models:[],validation_message:""}},computed:{mapped:function(){return"data_input"===this.type&&this.selection&&"new_collection"===this.selection.src}},methods:{datasetFilter:function(e){var t=e.name.match(/[^.]+$/);return t=t?t[0]:"",this.format.includes(e.extension)||""===e.extension&&this.format.includes(t)||"auto"===e.extension&&this.format.includes(t)||"data"===e.extension&&this.format.includes(t)},onInput:function(e){this.selected_models=e,0===e.length?this.selection=null:"data_collection_input"===this.type||e.length>1?this.selection={src:"new_collection",collection_type:"list",name:this.label,element_identifiers:e.reduce((function(e,t){var a=t.toInput(),n=t.name,r=1;while(e.some((function(e){return e.name===n})))n=t.name+"_"+r.toString(),++r;return a.name=n,e.push(a),e}),[])}:this.selection=e[0].toInput();var t=this.selection;this.$emit("input",t)},setCustomValidity:function(e){this.validation_message=e},checkValidity:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.selected_models[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;if(!i.ready())return!1}}catch(s){t=!0,a=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!(!this.optional||this.selection)||""===this.validator(this.selection)&&""===this.validation_message},reportValidity:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.selected_models[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;if(!i.ready())return this.validation_message="Some selected datasets are not ready for analysis. Please wait or make a different selection.",!1}}catch(s){t=!0,a=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!(!this.optional||this.selection)||(this.validation_message=this.validator(this.selected_models),""===this.validation_message)},reset:function(){this.$refs.history_contents.clearSelected()}}},u=l,c=a("2877"),d=Object(c["a"])(u,n,r,!1,null,"65b157c0",null);t["default"]=d.exports},e212:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("WorkflowParameterBase",e._b({staticClass:"galaxy-workflow-parameter-simple",attrs:{validation_message:e.validation_message}},"WorkflowParameterBase",Object.assign({},e.$attrs,e.$props,{optional:["select"].includes(e.type)||e.optional,collapse:["select"].includes(e.type)||e.$attrs.collapse}),!1),["boolean"===this.type?a("b-form-radio-group",{attrs:{buttons:"",state:e.validation_message?"invalid":null},on:{input:e.onInput},model:{value:e.user_input,callback:function(t){e.user_input=t},expression:"user_input"}},[a("option",{attrs:{value:"true"}},[e._v("Yes")]),a("option",{attrs:{value:"false"}},[e._v("No")]),a("b-form-invalid-feedback",[e._v(e._s(e.validation_message))])],1):a("b-form-group",{attrs:{"invalid-feedback":e.validation_message,state:e.validation_message?"invalid":null}},["select"===this.type?a("b-form-select",{attrs:{options:e.select_options},on:{input:e.onInput},model:{value:e.user_input,callback:function(t){e.user_input=t},expression:"user_input"}}):a("b-form-input",{ref:"input",attrs:{type:e.form_type,number:"number"===e.form_type},on:{input:e.onInput},model:{value:e.user_input,callback:function(t){e.user_input=t},expression:"user_input"}})],1)],1)},r=[],i=(a("caad"),a("4fad"),a("3835")),s=a("b1b4"),o={name:"SimpleParameter",components:{WorkflowParameterBase:s["default"]},props:{label:{type:String,required:!0},value:{type:String,default:""},type:{type:String,required:!0},annotation:{type:String,default:""},optional:{type:Boolean,default:!1},options:{validator:function(e){return e instanceof Array||e instanceof Object},default:[]}},data:function(){return{validation_message:"",user_input:this.value}},computed:{form_type:function(){switch(this.type){default:case"boolean":case"text":return"text";case"integer":case"float":return"number";case"color":return"color"}},select_options:function(){return Array.isArray(this.options)?this.options:Object.entries(this.options).reduce((function(e,t){var a=Object(i["a"])(t,2),n=a[0],r=a[1];return e.push({text:n,value:r,disabled:!1}),e}),[])}},methods:{onInput:function(e){this.$emit("input",e)},setCustomValidity:function(e){this.validation_message=e,["boolean","select"].includes(this.type)||this.$refs.input.setCustomValidity(e)},checkValidity:function(){return!!["boolean","select"].includes(this.type)||this.$refs.input.checkValidity()},reportValidity:function(){return!!["boolean","select"].includes(this.type)||this.$refs.input.reportValidity()},reset:function(){this.user_input=this.value}},mounted:function(){this.$emit("input",this.value)}},l=o,u=(a("0bb2"),a("2877")),c=Object(u["a"])(l,n,r,!1,null,"399268ed",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-8c1b39fa.45619e10.js.map